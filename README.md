# Amount Platform PoC

This repository demonstrates a couple of architectural concepts relevant to the creation of a multi-tenant SaaS API application using a modular monolith approach.

## Rails Engines

The application is modularized into Rails engines located under the /engines/ folder.  Each engine and its routes are automatically mounted on the external shell application.

New engines can be generated by running `rake generate_engine name=engine_name`

The rake task [borrows a script](https://www.rootstrap.com/blog/building-an-engine-modularized-api-in-rails/) from Shopify's engineering team.

## Grape API

Grape API definitions found at /app/engines/{engine}/app/api constitute the public API.

[Swagger.io](https://editor.swagger.io/) can be pointed to http://localhost:3000/swagger_doc to view automated API documentation.

## Automated package dependencies

Each engine defines a package.yml file using the [Packwerk gem](https://github.com/Shopify/packwerk) in its root folder which defines the allowed dependencies for the engine.

Refer to the gem's [usage instructions](https://github.com/Shopify/packwerk/blob/main/USAGE.md) for more information on checking dependencies.


